[{"title":"[hexo] Gitalk插件","date":"2017-09-19T15:27:51.000Z","path":"2017/09/19/hexo-Gitalk插件/","text":"寫了blog就自然有評論，剛好朋友的blog推薦了Gitalk於是我就來試用了 Gitalk相比起其他留言系統好處先不說，因為他是利用Github Issue來做留言系統的所以有Github賬號而blog host在Github Page的就基本上不需要再開別的賬號了 那麼在使用Gitalk的時候我是遇到蠻大的麻煩的，因為我蠢(喂)，嘛主要是因為在JS這種沒有明確feedback掛了也不知道什麼情況的環境下我debug無能而已。平常倒是可以靠stackoverflow，Gitalk這種比較新而使用人不多的還真是沒有太多的教學，而大部分的也是非常簡潔，對於我這種不熟frontend design的人來說沒有足夠的參考還真是比較麻煩只能去試。正因為如此反正blog太空我決定寫一篇來總結一下經驗 導入Gitalk Library要使用Gitalk第一件事當然是要取得Gitalk，而取得的方法有兩種，分別是使用官方的cdn和npm安裝。鑑於我們是使用Github來host blog的大小有上下那麼我們當然是使用cdn了。另外的方法可以上官方參考。 12&lt;link rel=\"stylesheet\" href=\"https://unpkg.com/gitalk/dist/gitalk.css\"&gt;&lt;script src=\"https://unpkg.com/gitalk/dist/gitalk.min.js\"&gt;&lt;/script&gt; 把這兩行code加入到你的header file裡面。鑑於其他大部分的blog theme都是使用ejs而我這個theme是用jade的所以也給一下jade的寫法 12link(rel=&quot;stylesheet&quot;, type=&quot;text/css&quot;, href=&apos;https://unpkg.com/gitalk/dist/gitalk.css&apos;)script(type=&apos;text/javascript&apos;, src=&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;) Github application 註冊在把這個插件加進我們blog之前還有一件事要做，就是去Github註冊與Gitalk的聯繫。註冊的方法很簡單，去這裡註冊註冊內容如下註冊完成你會看到你的application名字，點進去你會看見這個頁面把Client ID和ClientSecret下面那串字符抄下來我們之後會用到 把Gitalk放進hexo在註冊完畢之後我們就要把Gitalk放進hexo了。官方給出的JS範例是這樣1234567891011const gitalk = new Gitalk(&#123; clientID: 'Github Application Client ID', clientSecret: 'Github Application Client Secret', repo: 'Github repo', owner: 'Github repo owner', admin: ['Github repo collaborators, only these guys can initialize github issues'], // facebook-like distraction free mode distractionFreeMode: false&#125;)gitalk.render('gitalk-container') 可是我們是用模板來寫hexo的，所以我們要稍微改變一下，以下這是Jade的寫法12345678910script. const gitalk = new Gitalk(&#123; clientID: &apos;#&#123;theme.comment.gitalk.clientID&#125;&apos;, clientSecret: &apos;#&#123;theme.comment.gitalk.clientSecret&#125;&apos;, repo: &apos;#&#123;theme.comment.gitalk.repo&#125;&apos;, owner: &apos;#&#123;theme.comment.gitalk.owner&#125;&apos;, admin: [&apos;#&#123;theme.comment.gitalk.admin&#125;&apos;], distractionFreeMode: true &#125;) gitalk.render(&apos;gitalk-container&apos;) code大致上也是差不多，不過variable的部分我們改一改以更符合blog theme的格式，就是把variable都放回去theme的_config.yml指定，這樣要修改的時候就不用找程式碼在哪裡而是直接用config都改了。而theme中的_config.yml則需要加入以下設定1234567comment: gitalk: clientID: 剛剛抄下來的clientID clientSecret: 剛剛抄下來的clientSecret repo: 你放blog的repo名字e.g. ben951357.github.io owner: repo擁有者 e.g.ben951357 admin: 可以有admin權限修改的對象 e.g.ben951357 當然變數名字乃至放置的地方也可以順便修改只要能對回去就好 設定好gitalk之後就要掛載上html了，從官方給的程式碼中我們可以看到一句1gitalk.render('gitalk-container') 意思就是要掛載去一個id=”gitalk-container”的div裡面，當然你也可以隨便改別的id來對應那麼在想要的位置中放一個1&lt;div id=\"gitalk-container\"&gt;&lt;/div&gt; 或者用Jade的寫法1#gitalk-container 這樣就能放進我們的blog裡面去了 完成最後在你的blog裡面看到這個圖片就大功告成了除了以上提到的其實Gitalk還有很多別的東西可以設定有興趣可以到官網上參考並使用 參考官方網頁Gitalk我朋友的blog","tags":[{"name":"hexo","slug":"hexo","permalink":"https://ben951357.github.io/tags/hexo/"},{"name":"gitalk","slug":"gitalk","permalink":"https://ben951357.github.io/tags/gitalk/"},{"name":"github","slug":"github","permalink":"https://ben951357.github.io/tags/github/"},{"name":"jade","slug":"jade","permalink":"https://ben951357.github.io/tags/jade/"}]},{"title":"[hexo] 在Github Page上Deploy","date":"2017-09-19T14:32:52.000Z","path":"2017/09/19/hexo-在Github-Page上Deploy/","text":"都丟上來Github了什麼也不寫好像也不太好，於是就寫寫怎樣把這個blog從電腦丟上去Github Page了我家的電腦是用Windows + Git Bash來進行的所以教學就會跟這個來做了 首先當然是要有一個Github賬號，然後就是一個已經存在的hexo blog當上述的都有齊了之後你只需要3步以後就能用很方便的hexo d來把你的blog更新到Github去了 如何把hexo blog丟上Github 1. 在Hexo上的部署首先為你的hexo加裝以下配件來deploy到Github 1$ npm install \"hexo-deployer-git\" --save 之後在你的_config.yml的deploy欄修改成如下 1234deploy: type: git repo: git@github.com:username/username.github.io.git branch: master username是你自己的username，Github Page deploy網址是要求一定要在master這條branch的所以也不能改然後hexo的準備已經好了 2. 在Github上的部署首先你要有一個Github賬號，然後你需要在Github建立一個和你同名的repository建完之後放著就好，剩下的hexo會幫你完成 3. 建立SSH連接如果你以前已經做過把Git Bash用SSH和Github連接起來那這一步就可以無視，如果沒有的話就請跟著以下的順序去做詳細可以參考Github Help基本步驟如下首先打開你的bash shell輸入以下command1$ ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\" your_email就是你的github account的email做完這步之後重開bash shell就好不用其他操作之後就是回到Github在Github&gt;Setting&gt;SSH and GPG keys中加入你的SSH key點選Add SSH key, 然後在你電腦裡面的C:\\User\\Username.ssh\\ 裡面找到id_rsa.pub把他複製貼上到Github裡面的輸入框，然後點選Add SSH key就好當完成之後你會見到你的SSH key已經加入你的Github account，那麼你的Git bash就可以不用輸入密碼直接連線到Github了 完成完成以上的步驟之後，你就可以直接以以下command去直接deploy到Github Page了1$ hexo d 當然如果你有新內容或者是第一次的話要想generate static file出來了1$ hexo g 就這樣公開你的blog第一步就完成了(?)","tags":[{"name":"hexo","slug":"hexo","permalink":"https://ben951357.github.io/tags/hexo/"},{"name":"github","slug":"github","permalink":"https://ben951357.github.io/tags/github/"}]},{"title":"關於這blog","date":"2017-09-19T07:14:52.000Z","path":"2017/09/19/關於這blog/","text":"這個blog是為了放置我想說的話和腦洞而搭建的，歡迎各位亂入探討看法。當然也歡迎分享但分享請貼上網站，也請先告訴我一聲分享在哪。 因為blog主是香港人的緣故所以很大機會文章中會出現中英夾雜的情況，而blog主本人懂中文英文以及少量日文所以歡迎使用以上三種語言交流。就算你用日文我也只能用英文回答就是 這個blog主要是由以下幾種元素組成(不定時更新)：&nbsp;&nbsp; 電腦程式與科技之類的話題&nbsp;&nbsp; 少女前線&nbsp;&nbsp; 艦これ&nbsp;&nbsp; 可能會有的小說分享&nbsp;&nbsp; 其他我腦洞大開的話題亦歡迎人推坑就是了 順帶一提blog主是個百合控，目前深陷少前坑 有意聊天推坑的人歡迎用email/在噗上找我，之後可能也會開twitter就是","tags":[{"name":"關於","slug":"關於","permalink":"https://ben951357.github.io/tags/關於/"}]}]